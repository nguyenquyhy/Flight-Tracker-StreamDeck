<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Property Inspector</title>
    <link rel="stylesheet" href="sdpi.css">
</head>
<body>
    <div class="sdpi-wrapper">
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Header</div>
            <input class="sdpi-item-value" id="Header" value="" placeholder="Throttle" onchange="updateData()">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Toggle value</div>
            <input class="sdpi-item-value" id="ToggleValue" value="" placeholder="YAW_DAMPER_TOGGLE" onchange="updateData()" pattern="[A-Z_]">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Display value</div>
            <input class="sdpi-item-value" id="DisplayValue" value="" placeholder="YAW_DAMPER_TOGGLE" onchange="updateData()" pattern="[A-Z_]">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Minimal value</div>
            <input class="sdpi-item-value" id="MinValue" value="" placeholder="0" onchange="updateData()" pattern="[A-Z_0-9.-]">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Maximum value</div>
            <input class="sdpi-item-value" id="MaxValue" value="" placeholder="100" onchange="updateData()" pattern="[A-Z_0-9.-]">
        </div>
    </div>
    <script src="common.js"></script>
    <script language="JavaScript" type="text/javascript">
        function loadSettings(settings) {
            if (settings['Header']) { Header.value = settings['Header'] };
            if (settings['ToggleValue']) { ToggleValue.value = settings['ToggleValue'] };
            if (settings['DisplayValue']) { DisplayValue.value = settings['DisplayValue'] };
            if (settings['MinValue']) { MinValue.value = settings['MinValue'] };
            if (settings['MaxValue']) { MaxValue.value = settings['MaxValue'] };
        }

        function updateData() {
            const payload = {
                "Header": Header.value,
                "ToggleValue": ToggleValue.value,
                "DisplayValue": DisplayValue.value,
                "MinValue": MinValue.value,
                "MaxValue": MaxValue.value
            };

            sendValueToPlugin(payload);
            setSettings(payload);
        }
    </script>
    <script src="init.js"></script>
</body>
</html>
