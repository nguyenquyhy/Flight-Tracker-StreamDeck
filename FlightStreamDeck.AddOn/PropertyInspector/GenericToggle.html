<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Property Inspector</title>
    <link rel="stylesheet" href="sdpi.css">
</head>
<body>
    <div class="sdpi-wrapper">
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Header</div>
            <input class="sdpi-item-value" id="Header" value="" placeholder="YD">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Toggle event</div>
            <input class="sdpi-item-value" id="ToggleValue" value="" placeholder="e.g. YAW_DAMPER_TOGGLE" pattern="[A-Z_]*">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Toggle parameter</div>
            <input class="sdpi-item-value" id="ToggleValueData" value="" placeholder="" pattern="[0-9]*">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Feedback value</div>
            <input class="sdpi-item-value" id="FeedbackValue" value="" placeholder="e.g. AUTOPILOT YAW DAMPER" pattern="[A-Z0-9: ]*">
        </div>
        <div class="sdpi-item" type="field">
            <div class="sdpi-item-label">Display value</div>
            <input class="sdpi-item-value" id="DisplayValue" value="" placeholder="Empty for toggle button" pattern="[A-Z0-9: ]*">
        </div>
        <div type="group" class="sdpi-item" id="messagegroup">
            <div class="sdpi-item-label">Custom ON/OFF images</div>
            <div class="sdpi-item-group">
                <div class="sdpi-item" id="on_image_file_selector">
                    <div class="sdpi-item-label">ON image</div>
                    <div class="sdpi-item-group file">
                        <input class="sdpi-item-value" type="file" id="ImageOn" accept=".jpg, .jpeg, .png">
                        <label class="sdpi-file-info" for="ImageOn">no file...</label>
                        <label class="sdpi-file-label" for="ImageOn">Choose...</label>
                        <label class="sdpi-file-label sdpi-file-clear" data-for="ImageOn">Clear</label>
                    </div>
                </div>
                <div class="sdpi-item" id="off_image_file_selector">
                    <div class="sdpi-item-label">OFF image</div>
                    <div class="sdpi-item-group file">
                        <input class="sdpi-item-value" type="file" id="ImageOff" accept=".jpg, .jpeg, .png">
                        <label class="sdpi-file-info" for="ImageOff">no file...</label>
                        <label class="sdpi-file-label" for="ImageOff">Choose...</label>
                        <label class="sdpi-file-label sdpi-file-clear" data-for="ImageOff">Clear</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="common.js"></script>
    <script language="JavaScript" type="text/javascript">
        function loadSettings(settings) {
            if (settings['Header']) { Header.value = settings['Header'] };
            if (settings['ToggleValue']) { ToggleValue.value = settings['ToggleValue'] };
            if (settings['ToggleValueData']) { ToggleValueData.value = settings['ToggleValueData'] };
            if (settings['FeedbackValue']) { FeedbackValue.value = settings['FeedbackValue'] };
            if (settings['DisplayValue']) { DisplayValue.value = settings['DisplayValue'] };
            if (settings['ImageOn']) {
                setFileLabel(on_image_file_selector, settings['ImageOn']);
            };
            if (settings['ImageOff']) {
                setFileLabel(off_image_file_selector, settings['ImageOff']);
            };
        }

        function handleItemChanged(control, value) {
            settings[value.key] = value.value;

            sendValueToPlugin(settings);
            setSettings(settings);
        }
    </script>
    <script src="init.js"></script>
</body>
</html>
